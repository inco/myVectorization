# Library Vectorization RAG System - Qdrant Setup

## ‚úÖ –£—Å–ø–µ—à–Ω–æ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ!

–í–∞—à–∞ —Å–∏—Å—Ç–µ–º–∞ –≤–µ–∫—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ –≤ RAG —Å Docling —É—Å–ø–µ—à–Ω–æ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞ –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å Qdrant.

### üîß –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Qdrant

- **Host**: 192.168.1.13
- **Port**: 6333
- **API Key**: 4c77aa13-30ff-41e0-ac87-ab1e0c791d2e
- **Collection**: market_documents

### üìä –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

‚úÖ **–í–µ–∫—Ç–æ—Ä–∏–∑–∞—Ü–∏—è**: 26 —á–∞–Ω–∫–æ–≤ —É—Å–ø–µ—à–Ω–æ –æ–±—Ä–∞–±–æ—Ç–∞–Ω–æ –∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–æ –≤ Qdrant  
‚úÖ **RAG Query**: –°–∏—Å—Ç–µ–º–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã  
‚úÖ **–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ**: –°—Ç–∞–±–∏–ª—å–Ω–æ–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ —Å Qdrant —Å–µ—Ä–≤–µ—Ä–æ–º  

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≥–æ—Ç–æ–≤–æ–≥–æ —Å–∫—Ä–∏–ø—Ç–∞

```bash
python qdrant_quickstart.py
```

–≠—Ç–æ—Ç —Å–∫—Ä–∏–ø—Ç –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–µ –º–µ–Ω—é –¥–ª—è:
- –í–µ–∫—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤
- –ü—Ä–æ—Å–º–æ—Ç—Ä–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
- –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–≥–æ Q&A

### 2. –ü—Ä—è–º—ã–µ –∫–æ–º–∞–Ω–¥—ã CLI

#### –í–µ–∫—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
$env:QDRANT_HOST="192.168.1.13"
$env:QDRANT_PORT="6333"
$env:QDRANT_API_KEY="4c77aa13-30ff-41e0-ac87-ab1e0c791d2e"
$env:QDRANT_COLLECTION="market_documents"

# –í–µ–∫—Ç–æ—Ä–∏–∑–æ–≤–∞—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç—ã
python -m src.cli vectorize ./documents --vector-store qdrant --collection-name market_documents
```

#### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–æ–≤
```bash
# –û–¥–∏–Ω–æ—á–Ω—ã–π –∑–∞–ø—Ä–æ—Å
python -m src.cli query "What is machine learning?" --vector-store qdrant --collection-name market_documents

# –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π —Ä–µ–∂–∏–º
python -m src.cli ask --vector-store qdrant --collection-name market_documents

# –ü–æ–∏—Å–∫ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
python -m src.cli search --vector-store qdrant --collection-name market_documents

# –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∫–æ–ª–ª–µ–∫—Ü–∏–∏
python -m src.cli stats --vector-store qdrant --collection-name market_documents
```

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
myLibraryScan/
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îú‚îÄ‚îÄ library_vectorizer.py    # –û—Å–Ω–æ–≤–Ω–æ–π –º–æ–¥—É–ª—å –≤–µ–∫—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
‚îÇ   ‚îú‚îÄ‚îÄ rag_pipeline.py          # RAG pipeline
‚îÇ   ‚îú‚îÄ‚îÄ cli.py                   # CLI –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
‚îÇ   ‚îî‚îÄ‚îÄ config.py                # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îú‚îÄ‚îÄ documents/                   # –í–∞—à–∏ –¥–æ–∫—É–º–µ–Ω—Ç—ã
‚îÇ   ‚îî‚îÄ‚îÄ ml_overview.md
‚îú‚îÄ‚îÄ examples/                    # –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
‚îú‚îÄ‚îÄ tests/                       # –¢–µ—Å—Ç—ã
‚îú‚îÄ‚îÄ requirements.txt             # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îú‚îÄ‚îÄ qdrant_quickstart.py        # –°–∫—Ä–∏–ø—Ç –±—ã—Å—Ç—Ä–æ–≥–æ —Å—Ç–∞—Ä—Ç–∞
‚îú‚îÄ‚îÄ README.md                    # –û—Å–Ω–æ–≤–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
‚îî‚îÄ‚îÄ USAGE.md                     # –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é
```

## üîß –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤

- **PDF** (.pdf) - —Å –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–º –ø–∞—Ä—Å–∏–Ω–≥–æ–º –∏ –ø–æ–Ω–∏–º–∞–Ω–∏–µ–º —Å—Ç—Ä—É–∫—Ç—É—Ä—ã
- **Microsoft Word** (.docx, .doc)
- **Plain Text** (.txt)
- **Markdown** (.md)

## üß† –°—Ç—Ä–∞—Ç–µ–≥–∏–∏ chunking

- **Hierarchical** (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é) - —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—É –¥–æ–∫—É–º–µ–Ω—Ç–∞
- **Hybrid** - –∫–æ–º–±–∏–Ω–∏—Ä—É–µ—Ç —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–æ–µ –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–Ω–æ–µ —Ä–∞–∑–±–∏–µ–Ω–∏–µ

## üîç –ú–æ–¥–µ–ª–∏ —ç–º–±–µ–¥–¥–∏–Ω–≥–æ–≤

- **BAAI/bge-small-en-v1.5** (384 dim) - –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é, –±—ã—Å—Ç—Ä–∞—è
- **BAAI/bge-base-en-v1.5** (768 dim) - —Å–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è
- **BAAI/bge-large-en-v1.5** (1024 dim) - –≤—ã—Å–æ–∫–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ

## üìà –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### Python API

```python
from src.library_vectorizer import LibraryVectorizer
from src.rag_pipeline import SimpleRAG

# –í–µ–∫—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
vectorizer = LibraryVectorizer(
    vector_store_type="qdrant",
    embedding_model="BAAI/bge-small-en-v1.5",
    chunking_strategy="hierarchical"
)

result = vectorizer.vectorize_library("./documents", "market_documents")

# RAG —Å–∏—Å—Ç–µ–º–∞
rag = SimpleRAG(vector_store_type="qdrant", collection_name="market_documents")

# –ó–∞–¥–∞—Ç—å –≤–æ–ø—Ä–æ—Å
answer = rag.ask("What is machine learning?")
print(answer)

# –ü–æ–∏—Å–∫ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
docs = rag.search("machine learning", top_k=5)
for doc in docs:
    print(f"Source: {doc['metadata']['source_file']}")
    print(f"Score: {doc['score']}")
    print(f"Content: {doc['text'][:100]}...")
```

## üîÑ –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤

1. –ü–æ–º–µ—Å—Ç–∏—Ç–µ –Ω–æ–≤—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã –≤ –ø–∞–ø–∫—É `documents/`
2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –≤–µ–∫—Ç–æ—Ä–∏–∑–∞—Ü–∏—é:
   ```bash
   python -m src.cli vectorize ./documents --vector-store qdrant --collection-name market_documents
   ```
3. –î–æ–∫—É–º–µ–Ω—Ç—ã –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã –≤ —Å—É—â–µ—Å—Ç–≤—É—é—â—É—é –∫–æ–ª–ª–µ–∫—Ü–∏—é

## üõ†Ô∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

```bash
# Qdrant –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
QDRANT_HOST=192.168.1.13
QDRANT_PORT=6333
QDRANT_API_KEY=4c77aa13-30ff-41e0-ac87-ab1e0c791d2e
QDRANT_COLLECTION=market_documents

# –ú–æ–¥–µ–ª—å —ç–º–±–µ–¥–¥–∏–Ω–≥–æ–≤
EMBEDDING_MODEL=BAAI/bge-small-en-v1.5

# –°—Ç—Ä–∞—Ç–µ–≥–∏—è chunking
CHUNKING_STRATEGY=hierarchical

# RAG –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
RAG_TOP_K=5
```

### –ò–∑–º–µ–Ω–µ–Ω–∏–µ –º–æ–¥–µ–ª–∏ —ç–º–±–µ–¥–¥–∏–Ω–≥–æ–≤

```bash
python -m src.cli vectorize ./documents \
  --vector-store qdrant \
  --collection-name market_documents \
  --embedding-model "BAAI/bge-large-en-v1.5"
```

## üêõ –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫

### –ü—Ä–æ–±–ª–µ–º—ã —Å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ–º –∫ Qdrant

1. **SSL –æ—à–∏–±–∫–∏**: –°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç HTTP –≤–º–µ—Å—Ç–æ HTTPS
2. **–¢–∞–π–º–∞—É—Ç—ã**: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å —Å–µ—Ä–≤–µ—Ä–∞ 192.168.1.13:6333
3. **API –∫–ª—é—á**: –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∫–ª—é—á –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π

### –ü—Ä–æ–±–ª–µ–º—ã —Å –ø–∞–º—è—Ç—å—é

- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –º–µ–Ω—å—à—É—é –º–æ–¥–µ–ª—å —ç–º–±–µ–¥–¥–∏–Ω–≥–æ–≤: `BAAI/bge-small-en-v1.5`
- –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–π—Ç–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã –ø–∞–∫–µ—Ç–∞–º–∏
- –£–≤–µ–ª–∏—á—å—Ç–µ —Ä–∞–∑–º–µ—Ä swap —Ñ–∞–π–ª–∞

### –ü—Ä–æ–±–ª–µ–º—ã —Å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å—é

- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ GPU –¥–ª—è —ç–º–±–µ–¥–¥–∏–Ω–≥–æ–≤ (–µ—Å–ª–∏ –¥–æ—Å—Ç—É–ø–µ–Ω)
- –ù–∞—Å—Ç—Ä–æ–π—Ç–µ batch_size –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –±–æ–ª–µ–µ –±—ã—Å—Ç—Ä—É—é –º–æ–¥–µ–ª—å —ç–º–±–µ–¥–¥–∏–Ω–≥–æ–≤

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

- **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è**: README.md –∏ USAGE.md
- **–ü—Ä–∏–º–µ—Ä—ã**: examples/basic_examples.py
- **–¢–µ—Å—Ç—ã**: tests/test_system.py
- **–õ–æ–≥–∏**: –í–∫–ª—é—á–∏—Ç–µ verbose —Ä–µ–∂–∏–º: `--verbose`

## üéØ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. **–î–æ–±–∞–≤—å—Ç–µ –±–æ–ª—å—à–µ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤** –≤ –ø–∞–ø–∫—É `documents/`
2. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ LLM –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é** –¥–ª—è –±–æ–ª–µ–µ –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤
3. **–≠–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ —Å —Ä–∞–∑–Ω—ã–º–∏ –º–æ–¥–µ–ª—è–º–∏** —ç–º–±–µ–¥–¥–∏–Ω–≥–æ–≤
4. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥** –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
5. **–°–æ–∑–¥–∞–π—Ç–µ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å** –¥–ª—è —É–¥–æ–±–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

---

**üéâ –ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º! –í–∞—à–∞ —Å–∏—Å—Ç–µ–º–∞ RAG —Å Docling –∏ Qdrant –≥–æ—Ç–æ–≤–∞ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!**
